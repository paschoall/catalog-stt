-- MySQL Script generated by MySQL Workbench
-- sex 21 dez 2018 23:25:21 -02
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`USUARIO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`USUARIO` (
  `ID_USER` INT NOT NULL AUTO_INCREMENT COMMENT '		',
  `EMAIL` VARCHAR(45) NOT NULL,
  `NOME` VARCHAR(45) NOT NULL,
  `SENHA` VARCHAR(255) NOT NULL,
  `DATA_REG` DATETIME NOT NULL,
  `CEP` VARCHAR(9) NULL,
  `NOME_RUA` VARCHAR(120) NULL,
  `BAIRRO` VARCHAR(100) NULL,
  `NUMERO` INT(11) NULL,
  `CIDADE` VARCHAR(45) NULL,
  `ESTADO` VARCHAR(45) NULL,
  `PAIS` VARCHAR(45) NULL,
  `COMPLEMENTO` VARCHAR(100) NULL,
  `ADMIN` TINYINT(1) NOT NULL,
  PRIMARY KEY (`ID_USER`),
  UNIQUE INDEX `EMAIL_UNIQUE` (`EMAIL` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`RECURSO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`RECURSO` (
  `ID_RECURSO` INT NOT NULL AUTO_INCREMENT,
  `DATA_AD` DATE NOT NULL,
  `TITULO` VARCHAR(100) NOT NULL,
  `IDIOMA` VARCHAR(45) NOT NULL,
  `DESCRICAO` LONGTEXT NOT NULL,
  `REPOSITORIO` VARCHAR(45) NOT NULL,
  `VERSAO` VARCHAR(45) NOT NULL,
  `STATUS` VARCHAR(45) NOT NULL,
  `ENTIDADE_CONTRIBUINTE` VARCHAR(100) NOT NULL,
  `FORMATO` VARCHAR(45) NOT NULL,
  `TAMANHO` INT(11) NOT NULL,
  `LOCALIZACAO` VARCHAR(200) NOT NULL,
  `REQUISITOS_TECNOLOGICOS` LONGTEXT NOT NULL,
  `INSTRUCOES_INSTALACAO` LONGTEXT NOT NULL,
  `DURACAO` INT(11) NULL,
  `TIPO_INTERATIVIDADE` VARCHAR(45) NOT NULL,
  `TIPO_RECURSO` VARCHAR(45) NOT NULL,
  `DESCRICAO_EDUCACIONAL` LONGTEXT NOT NULL,
  `CUSTO` TINYINT(1) NOT NULL,
  `CREATIVE_COMMONS` VARCHAR(45) NOT NULL,
  `COPYRIGHT` VARCHAR(45) NOT NULL,
  `APROVADO` TINYINT(1) NOT NULL,
  PRIMARY KEY (`ID_RECURSO`),
  INDEX `TITULO` (`TITULO` ASC),
  INDEX `IDIOMA` (`IDIOMA` ASC),
  INDEX `TIPO_RECURSO` (`TIPO_RECURSO` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`AUTOR_RECURSO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`AUTOR_RECURSO` (
  `ID_RECURSO` INT NOT NULL,
  `ID_USER` INT NOT NULL,
  INDEX `FK_AUTOR_RECURSO_AUTOR_idx` (`ID_USER` ASC),
  INDEX `fk_AUTOR_RECURSO_RECURSO_idx` (`ID_RECURSO` ASC),
  PRIMARY KEY (`ID_RECURSO`, `ID_USER`),
  CONSTRAINT `FK_AUTOR_RECURSO_AUTOR`
    FOREIGN KEY (`ID_USER`)
    REFERENCES `mydb`.`USUARIO` (`ID_USER`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_AUTOR_RECURSO_RECURSO`
    FOREIGN KEY (`ID_RECURSO`)
    REFERENCES `mydb`.`RECURSO` (`ID_RECURSO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PALAVRASCHAVE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`PALAVRASCHAVE` (
  `NOME` VARCHAR(80) NOT NULL,
  `ID_RECURSO` INT(11) NOT NULL,
  PRIMARY KEY (`NOME`, `ID_RECURSO`),
  INDEX `FK_PALAVRASCHAVE_RECURSO_idx` (`ID_RECURSO` ASC),
  CONSTRAINT `FK_PALAVRASCHAVE_RECURSO`
    FOREIGN KEY (`ID_RECURSO`)
    REFERENCES `mydb`.`RECURSO` (`ID_RECURSO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`NIVEIS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`NIVEIS` (
  `NOME` VARCHAR(10) NOT NULL,
  `ID_RECURSO` INT(11) NOT NULL,
  PRIMARY KEY (`NOME`, `ID_RECURSO`),
  INDEX `FK_NIVEIS_RECURSO_idx` (`ID_RECURSO` ASC),
  CONSTRAINT `FK_NIVEIS_RECURSO`
    FOREIGN KEY (`ID_RECURSO`)
    REFERENCES `mydb`.`RECURSO` (`ID_RECURSO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`TECNICA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`TECNICA` (
  `NOME` VARCHAR(80) NOT NULL,
  `ID_RECURSO` INT(11) NOT NULL,
  PRIMARY KEY (`NOME`, `ID_RECURSO`),
  INDEX `FK_TECNICA_RECURSO_idx` (`ID_RECURSO` ASC),
  CONSTRAINT `FK_TECNICA_RECURSO`
    FOREIGN KEY (`ID_RECURSO`)
    REFERENCES `mydb`.`RECURSO` (`ID_RECURSO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`CRITERIOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CRITERIOS` (
  `NOME` VARCHAR(80) NOT NULL,
  `ID_RECURSO` INT(11) NOT NULL,
  PRIMARY KEY (`NOME`, `ID_RECURSO`),
  INDEX `FK_CRITERIOS_RECURSO_idx` (`ID_RECURSO` ASC),
  CONSTRAINT `FK_CRITERIOS_RECURSO`
    FOREIGN KEY (`ID_RECURSO`)
    REFERENCES `mydb`.`RECURSO` (`ID_RECURSO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
